<!-- b4/stable -->
<!DOCTYPE html>
<html>
  <head>
    <title>Trivia Night!</title>
    <meta name='viewport' content='width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0'>
    <link rel='stylesheet' href='landing.css'/>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.min.js' integrity='sha256-qM7QTJSlvtPSxVRjVWNM2OfTAz/3k5ovHOKmKXuYMO4=' crossorigin='anonymous'></script>
  </head>
  <body>
    <div id='bk'></div>
    <div id='sq' style='z-index: 2;'>
      <h2>Welcome to Trivia Night!</h2>
      <p id='failed' style='display: none'>Invalid Team PIN. Please try again.</p>
      <p>Enter your <b>Team PIN</b> below to continue.<br/>Or, you can <a href='scores'>open the scoreboard</a>.</p>
      <form action='/auth' method='post'>
        <input id='creds' name='creds' maxlength='12' placeholder='Team PIN' type='text'/>
        <button type='submit'><i class='fas fa-arrow-right'></i></button>
      </form>
    </div>
    <div id='ft'>
      OpenTrivia b59 <span style='float: right'>&copy; 2023 Rem Zhang</span>
    </div>
  </body>
  <script>
    if(location.search === '?failedLogin'){
      document.getElementById('failed').style.display = 'block'}
    if(location.search === '?403'){
      document.getElementById('failed').style.display = 'block'; 
      document.getElementById('failed').innerText='Sign in using the Team ID field to continue.'}
    window.onload = () => {
      document.getElementById('creds').focus(); 
      document.getElementById('creds').addEventListener('input', () => {
        if(document.getElementById('creds').value.slice(0, 4) === 'host'){
          document.getElementById('creds').type = 'password'; // host passwords are prefixed with "host"
        } else{
          document.getElementById('creds').type = 'text'; 
        }
      })
    }
  </script>
</html>